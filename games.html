<!DOCTYPE html>
<html lang="en">
<head> 
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nautical</title>
<link rel="icon" type="image/png" href="https://iili.io/fcbfGHX.png">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --nav-h: 90px;
    --accent: #00f2ff;
    --accent-glow: rgba(0, 242, 255, 0.5);
    --glass: rgba(255, 255, 255, 0.04);
    --border: rgba(255, 255, 255, 0.12);
    --bg-dark: #02151a;
    --navy-blue: #021c24; /* New Navy Variable */
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

* { box-sizing: border-box; margin: 0; padding: 0; }
body {
    background: radial-gradient(circle at 10% 10%, #062a33 0%, #02151a 50%),
                linear-gradient(180deg, #042a33 0%, #010a0d 100%);
    background-attachment: fixed;
    font-family: 'Inter', sans-serif;
    color: #e9fbfb;
    overflow-x: hidden;
}

/* NAVIGATION */
nav {
    position: fixed; top: 0; left: 0; right: 0; height: var(--nav-h);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 5%;
    background: rgba(2, 21, 26, 0.85);
    backdrop-filter: blur(25px);
    border-bottom: 1px solid var(--border);
    z-index: 1000;
}
.brand { display: flex; align-items: center; gap: 12px; }
.logo { width: 35px; height: 35px; border-radius: 8px; border: 1.5px solid var(--accent); overflow: hidden; }
.logo img { width: 100%; height: 100%; object-fit: cover; }
.brand h1 { font-family: 'Playfair Display', serif; font-size: 20px; letter-spacing: 2px; }

.nav-tiles { display: flex; gap: 12px; }
.nav-tile {
    text-decoration: none; color: #fff; font-size: 11px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 1px; padding: 12px 24px;
    background: rgba(255, 255, 255, 0.05); border: 1px solid var(--border);
    border-radius: 10px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.nav-tile:hover {
    background: var(--accent); color: var(--bg-dark); border-color: var(--accent);
    box-shadow: 0 0 20px var(--accent-glow);
}

/* PAGE WRAPPER */
.page { padding-top: var(--nav-h); position: relative; z-index: 10; }
header { text-align: center; padding: 60px 20px 20px; }
.title {
    font-family: 'Playfair Display', serif; font-size: clamp(38px, 8vw, 68px);
    background: linear-gradient(135deg, #fff 30%, var(--accent));
    -webkit-background-clip: text; color: transparent; margin-bottom: 10px;
}
.subtitle { color: rgba(230, 247, 247, 0.4); font-size: 16px; font-weight: 300; }

/* SEARCH & SORT - UPDATED TO NAVY */
.controls-container { display: flex; justify-content: center; padding: 40px 5%; }
.control-glass {
    display: flex; align-items: center; width: 100%; max-width: 800px;
    background: var(--navy-blue);
    border: 1px solid var(--border);
    border-radius: 20px; padding: 10px 10px 10px 30px;
    backdrop-filter: blur(30px); box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}
.control-glass input { flex: 1; background: transparent; border: none; color: #fff; font-size: 15px; outline: none; }
.control-glass input::placeholder { color: rgba(255,255,255,0.3); }

.aesthetic-sort {
    background: rgba(255,255,255,0.05); 
    border-left: 1px solid var(--border);
    padding: 10px 5px 10px 20px; margin-left: 15px; display: flex; align-items: center; gap: 10px;
}
.aesthetic-sort label { font-size: 10px; text-transform: uppercase; color: var(--accent); font-weight: 800; }
.aesthetic-sort select {
    background: transparent; border: none; color: #fff; font-size: 12px; font-weight: 600; 
    outline: none; cursor: pointer; appearance: none; padding-right: 25px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='%2300f2ff' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right center;
}
.aesthetic-sort select option { background: var(--navy-blue); color: #fff; }

/* GRIDS & CARDS */
.section-tag {
    padding: 0 5% 20px; font-family: 'Playfair Display', serif; font-size: 24px; color: var(--accent);
    display: flex; align-items: center; gap: 15px;
}
.section-tag::after { content: ''; height: 1px; flex: 1; background: linear-gradient(90deg, var(--border), transparent); }

.featured-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; padding: 0 5% 60px; }
.archive-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; padding: 0 5% 100px; }

.game-card {
    position: relative; height: 260px; background: rgba(255,255,255,0.02);
    border: 1px solid var(--border); border-radius: 20px; padding: 25px;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    cursor: pointer; transition: 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); overflow: hidden; text-align: center;
}
.featured-card { height: 340px; border-color: rgba(0, 242, 255, 0.25); background: rgba(0, 242, 255, 0.03); }
.game-card:hover { transform: translateY(-8px); background: rgba(6, 45, 56, 0.7); border-color: var(--accent); box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
.card-inner { transition: 0.4s; }
.game-card:hover .card-inner { transform: translateY(-40px); }
.g-title { font-size: 21px; font-weight: 700; color: #fff; margin-bottom: 8px; letter-spacing: -0.5px; }
.g-desc { font-size: 13.5px; color: rgba(255,255,255,0.45); line-height: 1.6; padding: 0 10px; }

.card-actions {
    position: absolute; bottom: 30px; left: 20px; right: 20px;
    display: flex; flex-direction: column; gap: 8px; opacity: 0; transform: translateY(20px); transition: 0.4s;
}
.game-card:hover .card-actions { opacity: 1; transform: translateY(0); }
.btn-ui {
    width: 100%; background: rgba(255, 255, 255, 0.06); border: 1px solid var(--border);
    color: #fff; padding: 10px 0; border-radius: 10px; font-size: 10px; font-weight: 700;
    text-transform: uppercase; letter-spacing: 1.5px; cursor: pointer; transition: 0.2s;
}
.btn-ui:hover { background: var(--accent); color: var(--bg-dark); border-color: var(--accent); }

.bubbles-wrap { position: fixed; inset: 0; pointer-events: none; z-index: 1; }

@media(max-width: 900px) { .featured-grid { grid-template-columns: 1fr; } }
</style>
</head>

<body>
<nav>
    <div class="brand">
        <div class="logo"><img src="https://iili.io/faD5fqB.png" alt="Logo"></div>
        <h1>Nautical</h1>
    </div>
    <div class="nav-tiles">
        <a href="https://xltranate.github.io/Nautical/index.html" class="nav-tile">Home</a>
        <a href="https://xltranate.github.io/Nautical/apps.html" class="nav-tile">Apps</a>
    </div>
</nav>

<div class="bubbles-wrap"><canvas id="bubbles"></canvas></div>

<div class="page">
    <header>
        <div class="title">Games</div>
        <div class="subtitle">A selection of games to make your school day a little better.</div>
    </header>

    <div class="controls-container">
        <div class="control-glass">
            <input id="search" type="text" placeholder="Search the games...">
            <div class="aesthetic-sort">
                <label>View</label>
                <select id="sort">
                    <option value="az">Alphabetic (A-Z)</option>
                    <option value="newest">Latest Additions</option>
                </select>
            </div>
        </div>
    </div>

    <div class="section-tag">Featured</div>
    <div id="featured-grid" class="featured-grid"></div>

    <div class="section-tag">Games</div>
    <div id="grid" class="archive-grid"></div>
</div>

<script>
const baseUrl = "https://xltranate.github.io/Nautical/games/";
const gridEl = document.getElementById('grid');
const featuredGridEl = document.getElementById('featured-grid');

const featuredGames = [
    { name: "Smash Karts", link: "smashkarts.html", desc: "Battle other pilots in high-octane 3D kart warfare with chaotic weapons." },
    { name: "Basket Random", link: "basketrandom.html", desc: "A surreal, physics-driven basketball duel where every goal is a surprise." },
    { name: "Stickman Hook", link: "stickmanhook.html", desc: "A fluid test of timing and gravity. Swing with precision to reach the exit." }
];

const games = [
    { name: "1v1.LOL", link: "1v1.html", desc: "Competitive third-person building and shooting simulator." },
    { name: "2048", link: "2048.html", desc: "The ultimate mathematical tile-sliding puzzle." },
    { name: "A Small World Cup", link: "asmallworldcup.html", desc: "Fast-paced ragdoll soccer with explosive physics." },
    { name: "Bacon May Die", link: "baconmaydie.html", desc: "Aggressive brawler featuring a very capable pig." },
    { name: "Bad Monday Simulator", link: "badmondaysimulator.html", desc: "A surreal and challenging 'bad day' experience." },
    { name: "Baldi's Basics", link: "baldibasics.html", desc: "Surreal educational horror in a 90s aesthetic." },
    { name: "Baseball Bros", link: "baseballbros.html", desc: "Competitive baseball with stylized characters." },
    { name: "Bendy", link: "bendy.html", desc: "Atmospheric horror inside a haunted animation studio." },
    { name: "Bitlife", link: "bitlife.html", desc: "Deep life simulation from birth to the afterlife." },
    { name: "Block Blast", link: "blockblast.html", desc: "Modernized brick-clearing puzzle with vibrant effects." },
    { name: "Bloons TD", link: "bloonstd.html", desc: "Strategic defense against waves of colorful invaders." },
    { name: "Boxing Random", link: "boxingrandom.html", desc: "Unpredictable boxing matches driven by physics." },
    { name: "Breakout", link: "breakout.html", desc: "Arcade classic brick-shattering experience." },
    { name: "Buckshot Roulette", link: "buckshotroulette.html", desc: "High-stakes psychological game of survival." },
    { name: "Burrito Bison", link: "burritobison.html", desc: "Launch yourself at gummy bears for ultimate revenge." },
    { name: "Candy Crush", link: "candycrush.html", desc: "The iconic match-three puzzle world-traveler." },
    { name: "City Defense", link: "citydefense.html", desc: "Strategic management and defense of urban zones." },
    { name: "Class of 09", link: "classof09.html", desc: "Dark comedy visual novel centered on high school life." },
    { name: "Color Match", link: "colormatch.html", desc: "Test your artistic perception with color blending." },
    { name: "Cookie Clicker", link: "cookieclicker.html", desc: "The legendary incremental baking empire simulator." },
    { name: "Crazy Cattle 3D", link: "crazycattle3d.html", desc: "Bizarre 3D livestock combat and exploration." },
    { name: "Crossy Road", link: "crossyroad.html", desc: "Endless hopping through traffic and obstacles." },
    { name: "Cut the Rope", link: "cuttherope.html", desc: "Physics puzzles to feed a hungry green monster." },
    { name: "Don't You Lecture Me", link: "dontyoulectureme.html", desc: "Experimental platformer based on classic memes." },
    { name: "DOOM", link: "doom.html", desc: "The foundational first-person shooter experience." },
    { name: "Drift Boss", link: "driftboss.html", desc: "Precise drifting action through narrow pathways." },
    { name: "Google Feud", link: "feud.html", desc: "Predict what the internet is searching for." },
    { name: "FNAF", link: "fnaf.html", desc: "Survival horror in a haunted animatronic pizzeria." },
    { name: "FNF", link: "fnf.html", desc: "Rhythm-based rap battles and musical duels." },
    { name: "Football Bros", link: "footballbros.html", desc: "Fast-paced American football competition." },
    { name: "Fruit Ninja", link: "fruitninja.html", desc: "Precision fruit-slicing action with katana blades." },
    { name: "Getting Over It", link: "getoverit.html", desc: "A psychological journey of climbing with a hammer." },
    { name: "Gladihoppers", link: "gladihoppers.html", desc: "Physics gladiator combat in the ancient arena." },
    { name: "Granny", link: "granny.html", desc: "Stealth horror: escape the house without being seen." },
    { name: "Happy Wheels", link: "happywheels.html", desc: "Brutal and hilarious obstacle courses for commuters." },
    { name: "Hollow Knight", link: "hollowknight.html", desc: "Beautifully atmospheric metroidvania exploration." },
    { name: "House of Hazards", link: "houseofhazards.html", desc: "Sabotage your friends in this trap-filled home." },
    { name: "Idle Breakout", link: "idlebreakout.html", desc: "The perfect fusion of brick-breaking and idle clicking." },
    { name: "Jetpack Joyride", link: "jetpackjoyride.html", desc: "Fly through a secret lab using experimental tech." },
    { name: "Learn to Fly", link: "learntofly1.html", desc: "Help a penguin achieve flight through research." },
    { name: "Learn to Fly 3", link: "learntofly3.html", desc: "Reach the stars in a custom-built ship." },
    { name: "Learn to Fly Idle", link: "learntoflyidle.html", desc: "Automatic progress in the penguin flight project." },
    { name: "Little Alchemy", link: "littlealchemy.html", desc: "Creative elemental combination simulation." },
    { name: "Super Mario", link: "mario.html", desc: "The original platformer that defined gaming." },
    { name: "Minecraft", link: "minecraft.html", desc: "Infinite voxel creative and survival sandbox." },
    { name: "Moto X3M", link: "moto.html", desc: "Extreme stunt racing across dangerous tracks." },
    { name: "Omori", link: "omori.html", desc: "A surreal psychological horror RPG experience." },
    { name: "Osu!", link: "osu.html", desc: "High-intensity rhythm game based on timing." },
    { name: "OVO", link: "ovo.html", desc: "Minimalist parkour platforming with fluid movement." },
    { name: "Papa's Pizzeria", link: "papapizzeria.html", desc: "Classic time-management and culinary strategy." },
    { name: "PaRappa", link: "papparappa.html", desc: "The pioneer of the rhythm-game genre." },
    { name: "Pokemon Emerald", link: "pokemonemerald.html", desc: "The classic monster-collecting GBA journey." },
    { name: "PVZ", link: "pvz.html", desc: "Flora-based defense against a zombie invasion." },
    { name: "Ragdoll Archers", link: "ragdollarchers.html", desc: "Archery duels powered by unpredictable physics." },
    { name: "Retro Bowl", link: "retrobowl.html", desc: "Stylized management and play of American football." },
    { name: "Riddle School", link: "riddleschool.html", desc: "Escape the classroom using your wits alone." },
    { name: "Schoolboy Runaway", link: "schoolboyrunaway.html", desc: "Sneak out of the house in this stealth puzzle." },
    { name: "Slime Rancher", link: "slimerancher.html", desc: "Wrangle colorful slimes on a distant planet." },
    { name: "Slope", link: "slope.html", desc: "High-speed descent through a geometric abyss." },
    { name: "Slope 2", link: "slope2.html", desc: "Evolved neon descent with new obstacles." },
    { name: "SM64", link: "sm64.html", desc: "The gold standard of 3D platforming adventures." },
    { name: "Smashy Road", link: "smashyroad.html", desc: "Infinite voxel-based police chase survival." },
    { name: "Snowbattle.io", link: "snowbattleio.html", desc: "Multiplayer snow-rolling arena combat." },
    { name: "Snow Rider 3D", link: "snowrider3d.html", desc: "Downhill sledding through winter landscapes." },
    { name: "Soccer Random", link: "soccerrandom.html", desc: "Soccer matches where anything can happen." },
    { name: "Solar Smash", link: "solarsmash.html", desc: "Interstellar weapon testing on celestial bodies." },
    { name: "Sort the Court", link: "sortthecourt.html", desc: "A simple yes-no kingdom management sim." },
    { name: "Spelunky", link: "spelunky.html", desc: "Classic procedurally generated cave exploration." },
    { name: "Stick With It", link: "stickwithit.html", desc: "Challenging climb using sticky mechanics." },
    { name: "Suika", link: "suika.html", desc: "Addictive fruit-merging physics challenge." },
    { name: "Tag", link: "tag.html", desc: "Digital adaptation of the classic playground game." },
    { name: "Temple Run", link: "templerun.html", desc: "Endless escape from ancient jungle guardians." },
    { name: "The Binding of Isaac", link: "thebindingofisaac.html", desc: "Dark roguelike exploration of a deep basement." },
    { name: "Time Shooter SWAT", link: "timeshooterswat.html", desc: "Time manipulation tactical combat simulator." },
    { name: "Vex 5", link: "vex5.html", desc: "Lethal stickman parkour with razor-sharp traps." },
    { name: "World Box", link: "worldbox.html", desc: "God-simulator with deep civilization evolution." },
    { name: "Worlds Hardest Game", link: "worldshardestgame.html", desc: "The ultimate test of precision and patience." },
    { name: "Zelda", link: "zelda.html", desc: "Legendary adventure quest in the kingdom of Hyrule." }
];

function createCard(g, isFeatured) {
    const card = document.createElement('div');
    card.className = isFeatured ? 'game-card featured-card' : 'game-card';
    card.innerHTML = `
        <div class="card-inner">
            <div class="g-title">${g.name}</div>
            <div class="g-desc">${g.desc}</div>
        </div>
        <div class="card-actions">
            <button class="btn-ui open-blob">Open in Blob</button>
            <button class="btn-ui download-html">Download</button>
        </div>
    `;
    card.addEventListener('click', (e) => { if(!e.target.classList.contains('btn-ui')) window.location.href = baseUrl + g.link; });
    card.querySelector('.open-blob').onclick = (e) => { e.stopPropagation(); handleAction(baseUrl + g.link, 'blob', g.name); };
    card.querySelector('.download-html').onclick = (e) => { e.stopPropagation(); handleAction(baseUrl + g.link, 'dl', g.name); };
    return card;
}

featuredGames.forEach(g => featuredGridEl.appendChild(createCard(g, true)));

function applyFilters() {
    const q = document.getElementById("search").value.toLowerCase();
    const s = document.getElementById("sort").value;
    let filtered = games.filter(g => g.name.toLowerCase().includes(q));
    if (s === "az") filtered.sort((a,b) => a.name.localeCompare(b.name));
    else filtered = filtered.reverse();
    gridEl.innerHTML = '';
    filtered.forEach(g => gridEl.appendChild(createCard(g, false)));
}

document.getElementById("search").addEventListener("input", applyFilters);
document.getElementById("sort").addEventListener("change", applyFilters);
applyFilters();

async function handleAction(url, mode, name) {
    try {
        const res = await fetch(url);
        const txt = await res.text();
        const b = new Blob([txt], { type: 'text/html' });
        const bu = URL.createObjectURL(b);
        if (mode === 'blob') window.open(bu, '_blank');
        else {
            const a = document.createElement('a'); a.href = bu;
            a.download = `${name.replace(/\s+/g, '_')}.html`;
            document.body.appendChild(a); a.click(); document.body.removeChild(a);
        }
    } catch (e) { alert("Action requires GitHub Pages hosting."); }
}

/* CLEAN BUBBLE ENGINE */
(function(){
    const canvas = document.getElementById('bubbles');
    const ctx = canvas.getContext('2d');
    let bobs = [];
    
    function resize(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    function create(){
      if(bobs.length > 40) return;
      bobs.push({ 
        x: Math.random() * canvas.width, 
        y: canvas.height + 50, 
        r: 2 + Math.random() * 6, 
        s: 0.4 + Math.random() * 0.8,
        o: 0.1 + Math.random() * 0.2
      });
    }
    setInterval(create, 400);

    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      bobs.forEach((b, i) => {
        b.y -= b.s;
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.r, 0, Math.PI*2);
        ctx.fillStyle = `rgba(255, 255, 255, ${b.o})`;
        ctx.fill();
        ctx.strokeStyle = `rgba(255, 255, 255, ${b.o + 0.1})`;
        ctx.stroke();
        if(b.y < -50) bobs.splice(i, 1);
      });
      requestAnimationFrame(draw);
    }
    draw();
})();
</script>
</body>
</html>
